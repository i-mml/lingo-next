"use client";

import React, { FC } from "react";
import { AudioBookProps } from "./types";
import Lottie from "lottie-react";
import MicrophoneLottie from "@/assets/lotties/microphone_lineal.json";
import "swiper/css";
import "swiper/css/navigation";
import "swiper/css/pagination";
import dynamic from "next/dynamic";
import AudioBookSkeletonLoader from "./components/AudioBookSkeletonLoader";
import SeoDescription from "./components/SeoDescription";
import FaqSection from "./components/FaqSection";
import { useAuth } from "@/hooks/use-auth";

const AudioBookRowSliders = dynamic(
  () => import("./components/AudioBookRowSliders"),
  {
    ssr: false,
    loading: () => <AudioBookSkeletonLoader />,
  }
);

// FAQ Data for Audio Books
const audioBookFaqs = [
  {
    question: "چگونه کتاب‌های صوتی به یادگیری زبان انگلیسی کمک می‌کنند؟",
    answer:
      "کتاب‌های صوتی با تقویت مهارت شنیداری، آشنایی با تلفظ صحیح کلمات، افزایش دایره لغات و درک مفاهیم به صورت کاربردی به یادگیری زبان انگلیسی کمک می‌کنند. همچنین، شنیدن داستان‌ها و متون مختلف انگلیسی در قالب صوتی باعث می‌شود گوش شما به ریتم و آهنگ زبان انگلیسی عادت کند.",
  },
  {
    question: "آیا کتاب‌های صوتی برای همه سطوح زبان‌آموزی مناسب هستند؟",
    answer:
      "بله، در زبانو کتاب‌های صوتی برای تمامی سطوح زبان‌آموزی از مبتدی تا پیشرفته طبقه‌بندی شده‌اند. شما می‌توانید متناسب با سطح زبان خود، کتاب صوتی مناسب را انتخاب کنید. برای زبان‌آموزان مبتدی، کتاب‌های ساده‌تر با سرعت گویش کمتر و برای افراد پیشرفته‌تر، کتاب‌های پیچیده‌تر با سرعت طبیعی ارائه شده است.",
  },
  {
    question: "تفاوت کتاب‌های صوتی با پادکست چیست؟",
    answer:
      "کتاب‌های صوتی معمولاً شامل خوانش کامل یک کتاب یا داستان هستند که توسط یک گوینده حرفه‌ای ضبط شده‌اند، در حالی که پادکست‌ها بیشتر گفتگو محور بوده و می‌توانند شامل مصاحبه، بحث یا آموزش موضوعات خاص باشند. کتاب‌های صوتی معمولاً ساختار منسجم‌تری داشته و برای تقویت مهارت خواندن و شنیدن همزمان مناسب‌تر هستند.",
  },
  {
    question:
      "چطور می‌توانم بیشترین بهره را از گوش دادن به کتاب‌های صوتی ببرم؟",
    answer:
      "برای بهره‌گیری بیشتر، توصیه می‌شود ابتدا به بخش‌های کوتاه گوش دهید و آن‌ها را تکرار کنید. سعی کنید بدون نگاه کردن به متن، محتوا را درک کنید. سپس متن را مطالعه کرده و مجدداً به صوت گوش دهید. یادداشت‌برداری از لغات و اصطلاحات جدید و تمرین تلفظ آن‌ها نیز به پیشرفت شما کمک خواهد کرد.",
  },
  {
    question: "چرا زبانو برای کتاب‌های صوتی، سطح‌بندی قائل شده است؟",
    answer:
      "سطح‌بندی کتاب‌های صوتی به شما کمک می‌کند تا متناسب با توانایی زبانی خود، منابع مناسب را انتخاب کنید. شروع از منابع خیلی دشوار می‌تواند باعث دلسردی شود، در حالی که منابع خیلی ساده ممکن است چالش‌برانگیز نباشند. سطح‌بندی «ابتدایی» و «فوق ابتدایی» در زبانو، به شما امکان می‌دهد مسیر یادگیری تدریجی و موفقیت‌آمیزی را طی کنید.",
  },
];

// FAQ Data for Music
const musicFaqs = [
  {
    question: "چگونه گوش دادن به موسیقی انگلیسی به یادگیری زبان کمک می‌کند؟",
    answer:
      "موسیقی انگلیسی به بهبود تلفظ، درک شنیداری، یادگیری اصطلاحات و لغات جدید، و آشنایی با فرهنگ زبان انگلیسی کمک می‌کند. همچنین، ریتم و ملودی موسیقی باعث می‌شود کلمات و عبارات راحت‌تر در ذهن ماندگار شوند.",
  },
  {
    question: "آیا همه موسیقی‌های موجود در زبانو زیرنویس و ترجمه دارند؟",
    answer:
      "بله، تمام موسیقی‌های ارائه شده در زبانو دارای زیرنویس انگلیسی و ترجمه فارسی هستند. این ویژگی به شما کمک می‌کند معنای دقیق اشعار را درک کنید و با کلمات و اصطلاحات جدید آشنا شوید.",
  },
  {
    question: "موسیقی‌های با سطح ابتدایی و فوق ابتدایی چه تفاوتی دارند؟",
    answer:
      "موسیقی‌های سطح ابتدایی دارای کلمات ساده‌تر، تلفظ واضح‌تر و ریتم آرام‌تری هستند که برای زبان‌آموزان تازه‌کار مناسب‌تر است. موسیقی‌های سطح فوق ابتدایی شامل اصطلاحات پیچیده‌تر، سرعت بیشتر و گاهی اسلنگ و اصطلاحات عامیانه هستند که برای تقویت مهارت‌های پیشرفته‌تر مناسب است.",
  },
  {
    question: "چطور می‌توانم از موسیقی‌ها برای یادگیری بهتر استفاده کنم؟",
    answer:
      "ابتدا بدون مشاهده متن به موسیقی گوش دهید و سعی کنید تا حد امکان آن را درک کنید. سپس با زیرنویس موسیقی را گوش کنید و لغات جدید را فلش‌کارت کنید. تکرار و همخوانی با موسیقی به بهبود تلفظ و روان‌تر شدن صحبت کردن شما کمک می‌کند. همچنین، می‌توانید با استفاده از بخش تمرین، درک خود را بسنجید.",
  },
];

// FAQ Data for Podcasts
const podcastFaqs = [
  {
    question: "پادکست‌های انگلیسی چه مزایایی برای یادگیری زبان دارند؟",
    answer:
      "پادکست‌ها به تقویت مهارت شنیداری در مکالمات واقعی، یادگیری اصطلاحات روزمره، آشنایی با لهجه‌های مختلف، و درک مفاهیم در بافت طبیعی زبان کمک می‌کنند. همچنین، موضوعات متنوع پادکست‌ها باعث افزایش انگیزه و علاقه به یادگیری زبان می‌شود.",
  },
  {
    question: "آیا پادکست‌های زبانو برای مبتدیان مناسب هستند؟",
    answer:
      "بله، پادکست‌های زبانو در سطوح مختلف دسته‌بندی شده‌اند. پادکست‌های سطح ابتدایی با سرعت کمتر و زبان ساده‌تر ارائه می‌شوند که برای مبتدیان مناسب است. همچنین، وجود زیرنویس و ترجمه به درک بهتر محتوا کمک می‌کند.",
  },
  {
    question: "تفاوت پادکست با کتاب صوتی چیست؟",
    answer:
      "پادکست‌ها معمولاً به صورت گفتگو، مصاحبه یا روایت شخصی ارائه می‌شوند و اغلب به صورت سریالی منتشر می‌شوند. آن‌ها بیشتر حالت محاوره‌ای دارند و زبان طبیعی‌تری را منعکس می‌کنند. در مقابل، کتاب‌های صوتی خوانش متن کتاب هستند که ساختار رسمی‌تری دارند.",
  },
  {
    question: "چگونه می‌توانم پادکست‌ها را در زبانو پیدا کنم؟",
    answer:
      "شما می‌توانید از طریق منوی اصلی به بخش «پادکست‌ها» دسترسی پیدا کنید. همچنین می‌توانید با استفاده از فیلترهای موجود، پادکست‌ها را بر اساس سطح زبانی، موضوع، محبوبیت یا جدیدترین‌ها مرتب کنید.",
  },
  {
    question: "چگونه می‌توانم با پادکست‌ها تمرین کنم؟",
    answer:
      "برای تمرین مؤثر با پادکست‌ها، ابتدا بدون زیرنویس گوش دهید و نکات اصلی را به خاطر بسپارید. سپس با استفاده از زیرنویس، درک خود را بررسی کنید. می‌توانید بخش‌های مهم را چندبار گوش داده و تکرار کنید. همچنین، لغات و اصطلاحات جدید را فلش‌کارت کرده و در مکالمات خود استفاده کنید.",
  },
];

const AudioBookView: FC<AudioBookProps> = (props) => {
  const { audioBooks, contentType } = props;
  const { whoAmI } = useAuth();

  // Ensure contentType is a number with a default value
  const safeContentType = contentType || 3; // Default to audio book (3) if undefined

  // Get user's preferred language (default to English - 2)
  const preferredLanguage = whoAmI?.userpreference?.preferred_language || 2;

  return (
    <div>
      <div className="flex items-center gap-4 pt-6 pb-3 px-[3%] md:pt-10 md:px-[5%] mb-0">
        <Lottie
          animationData={MicrophoneLottie}
          className="w-16 h-16 lg:w-20 lg:h-20"
        />
        <h1 className="text-lg lg:text-3xl font-bold text-main">
          {contentType === 2
            ? "موسیقی ها"
            : contentType === 3
            ? "کتاب های صوتی"
            : "پادکست ها"}
        </h1>
      </div>

      {/* SEO Description Section */}
      <SeoDescription
        contentType={safeContentType}
        audioBookFaqs={audioBookFaqs}
        musicFaqs={musicFaqs}
        podcastFaqs={podcastFaqs}
        preferredLanguage={preferredLanguage}
      />

      {/* Content Sliders */}
      <AudioBookRowSliders audioBooks={audioBooks} />

      {/* FAQ Section */}
      <FaqSection
        contentType={safeContentType}
        audioBookFaqs={audioBookFaqs}
        musicFaqs={musicFaqs}
        podcastFaqs={podcastFaqs}
        preferredLanguage={preferredLanguage}
      />
    </div>
  );
};

export default AudioBookView;
